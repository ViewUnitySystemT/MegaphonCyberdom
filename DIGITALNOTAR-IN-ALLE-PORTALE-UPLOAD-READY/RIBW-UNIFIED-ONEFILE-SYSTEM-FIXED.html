<!DOCTYPE html>
<html lang="de">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://ribwomnia.ribwonline.nl https://ribw-nr.topdesk.net; style-src 'self' 'unsafe-inline'; img-src 'self' data:; frame-src https://ribwomnia.ribwonline.nl https://ribw-nr.topdesk.net; connect-src 'self'; base-uri 'self'; frame-ancestors 'none';">
        <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
        <meta http-equiv="Permissions-Policy" content="camera=(), microphone=(), geolocation=()">
        <meta http-equiv="X-Frame-Options" content="DENY">
        <title>RIBW Unified OneFile System - Vollst√§ndig Funktionsf√§hig</title>
    <style>
        /* UNIVERSAL RESET & BASE STYLES */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* NAVIGATION BAR */
        .navigation-bar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(15px);
            z-index: 10000;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .nav-brand {
            color: #00ff88;
            font-size: 1.5em;
            font-weight: 700;
        }

        .nav-menu {
            display: flex;
            gap: 10px;
        }

        .nav-item {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9em;
            transition: all 0.3s ease;
            border: 1px solid transparent;
        }

        .nav-item:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: #00ff88;
        }

        .nav-item.active {
            background: #00ff88;
            color: #000;
        }

        /* MAIN CONTAINER */
        .main-container {
            margin-top: 80px;
            padding: 20px;
            min-height: calc(100vh - 80px);
        }

        .container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            padding: 40px;
            max-width: 1400px;
            margin: 0 auto;
            backdrop-filter: blur(10px);
            min-height: 80vh;
        }

        /* SECTION STYLES */
        .section {
            display: none;
        }

        .section.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* HEADER STYLES */
        .header {
            text-align: center;
            margin-bottom: 40px;
        }

        .header h1 {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-size: 3em;
            margin-bottom: 10px;
            font-weight: 300;
        }

        .header .subtitle {
            color: #7f8c8d;
            font-size: 1.1em;
        }

        /* USER INFO */
        .user-info {
            background: #e3f2fd;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            border-left: 4px solid #2196f3;
        }

        .user-info h3, .user-info h4 {
            color: #1976d2;
            margin-bottom: 10px;
        }

        .user-info p {
            color: #424242;
            margin: 5px 0;
        }

        /* STATUS INDICATORS */
        .status-indicator {
            display: inline-block;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-right: 8px;
        }

        .status-online { background: #28a745; box-shadow: 0 0 10px #28a745; }
        .status-offline { background: #dc3545; box-shadow: 0 0 10px #dc3545; }
        .status-connecting { background: #ffc107; box-shadow: 0 0 10px #ffc107; }

        /* GRID LAYOUTS */
        .systems-grid, .modules-grid, .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .stats-grid {
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        }

        /* CARD STYLES */
        .system-card, .module-card, .stat-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            border-left: 4px solid #667eea;
        }

        .system-card:hover, .module-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }

        .system-card h3, .module-card h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .stat-card {
            text-align: center;
            border-left: none;
        }

        .stat-card h3 {
            color: #2c3e50;
            font-size: 2em;
            margin-bottom: 10px;
        }

        /* BUTTONS */
        .system-btn, .module-btn, .action-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            text-decoration: none;
            display: inline-block;
            font-weight: 600;
            transition: all 0.3s ease;
            width: 100%;
            text-align: center;
            cursor: pointer;
            margin: 5px 0;
        }

        .system-btn:hover, .module-btn:hover, .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        /* FORMS */
        .form-section {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            border: 2px solid #e9ecef;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            margin-bottom: 20px;
        }

        .form-group label {
            color: #495057;
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 0.9em;
        }

        .form-group input, .form-group textarea, .form-group select {
            padding: 15px;
            border: 2px solid #dee2e6;
            border-radius: 10px;
            font-size: 1em;
            transition: all 0.3s ease;
            background: white;
        }

        .form-group input:focus, .form-group textarea:focus, .form-group select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        /* MODULE INTERFACES */
        .module-interface {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            display: none;
        }

        .module-interface.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        .module-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f8f9fa;
        }

        .module-header h4 {
            color: #2c3e50;
            font-size: 1.4em;
        }

        .close-module {
            background: #dc3545;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9em;
        }

        /* DATA TABLES */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .data-table th, .data-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #dee2e6;
        }

        .data-table th {
            background: #f8f9fa;
            font-weight: 600;
            color: #495057;
        }

        .data-table tr:hover {
            background: rgba(102, 126, 234, 0.05);
        }

        /* PROGRESS BARS */
        .progress-bar {
            width: 100%;
            height: 20px;
            background: #e9ecef;
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            border-radius: 10px;
            transition: width 0.3s ease;
        }

        /* CHAT INTERFACE */
        .chat-container {
            height: 400px;
            border: 2px solid #dee2e6;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
        }

        .chat-messages {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            background: #f8f9fa;
        }

        .chat-message {
            background: white;
            padding: 10px 15px;
            border-radius: 10px;
            margin-bottom: 10px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }

        .chat-message.user {
            background: #667eea;
            color: white;
            margin-left: 20%;
        }

        .chat-input {
            display: flex;
            padding: 15px;
            background: white;
            border-top: 1px solid #dee2e6;
        }

        .chat-input input {
            flex: 1;
            padding: 10px;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            margin-right: 10px;
        }

        .chat-input button {
            padding: 10px 20px;
            background: #28a745;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
        }

        /* RESPONSIVE DESIGN */
        @media (max-width: 768px) {
            .navigation-bar {
                flex-direction: column;
                gap: 10px;
                padding: 10px;
            }

            .nav-menu {
                flex-wrap: wrap;
                justify-content: center;
            }

            .main-container {
                margin-top: 120px;
                padding: 10px;
            }

            .container {
                padding: 20px;
            }

            .header h1 {
                font-size: 2em;
            }

            .systems-grid, .modules-grid, .stats-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- NAVIGATION BAR -->
    <div class="navigation-bar">
        <div class="nav-brand">üè• RIBW Unified System</div>
        <div class="nav-menu">
            <button class="nav-item active" data-section="portal">üè† Portal</button>
            <button class="nav-item" data-section="live-platform">üî¥ Live</button>
            <button class="nav-item" data-section="email-system">üìß E-Mail</button>
            <button class="nav-item" data-section="real-system">‚öôÔ∏è System</button>
            <button class="nav-item" data-section="alternatives">üîÑ Alternativen</button>
            <button class="nav-item" data-section="frame-system">üì± Frame</button>
            <button class="nav-item" data-section="client-platform">üë§ Client</button>
        </div>
    </div>

    <!-- MAIN CONTAINER -->
    <div class="main-container">
        <div class="container">
            
            <!-- PORTAL SECTION -->
            <div class="section active" id="portal">
                <div class="header">
                    <h1>üè• RIBW Portal</h1>
                    <p class="subtitle">Raymond Demitrio Tel - Tenant Zugang</p>
                </div>

                <div class="user-info">
                    <h4>üë§ Ihre Anmeldedaten</h4>
                    <p><strong>E-Mail:</strong> ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢@example.com</p>
                    <p><strong>Passwort:</strong> ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢</p>
                    <p><strong>Status:</strong> <span class="status-indicator status-online"></span>Verbunden</p>
                    <button class="action-btn" onclick="getSecureLogin()" style="margin-top: 10px;">üîê Zugang abrufen</button>
                </div>

                <div class="systems-grid">
                    <div class="system-card">
                        <h3>üíº RIBW Omnia</h3>
                        <p>Digitale Arbeitsumgebung mit Office-Tools (Word, Teams)</p>
                        <button class="system-btn" onclick="openSystem('https://ribwomnia.ribwonline.nl/029')">
                            <span class="status-indicator status-online"></span>
                            Omnia √∂ffnen
                        </button>
                    </div>

                    <div class="system-card">
                        <h3>üé´ Serviceportal</h3>
                        <p>Support-Anfragen, Tickets und Hilfe-System</p>
                        <button class="system-btn" onclick="openSystem('https://ribw-nr.topdesk.net/tas/public/ssp/')">
                            <span class="status-indicator status-online"></span>
                            Serviceportal √∂ffnen
                        </button>
                    </div>

                    <div class="system-card">
                        <h3>üìû Servicedesk</h3>
                        <p>Direkter Support: 088 382 24 10</p>
                        <button class="system-btn" onclick="openSystem('mailto:servicedesk@ribw-nr.nl')">
                            <span class="status-indicator status-online"></span>
                            E-Mail senden
                        </button>
                    </div>

                    <div class="system-card">
                        <h3>üìã Organisation</h3>
                        <p>√úberblick √ºber RIBW Nijmegen & Rivierenland</p>
                        <button class="system-btn" onclick="openSystem('https://www.ribw-nijmegenrivierenland.nl/over-ribw/organisatie')">
                            <span class="status-indicator status-online"></span>
                            Website √∂ffnen
                        </button>
                    </div>
                </div>
            </div>

            <!-- LIVE PLATFORM SECTION -->
            <div class="section" id="live-platform">
                <div class="header">
                    <h1>üî¥ RIBW Live Platform</h1>
                    <p class="subtitle">Real-Time System Monitoring & Management</p>
                </div>

                <div class="user-info">
                    <h3>üë§ Live Session</h3>
                    <p><strong>Benutzer:</strong> x@tel1.nl</p>
                    <p><strong>Session ID:</strong> LIVE-<span id="sessionId">000000</span></p>
                    <p><strong>Status:</strong> <span class="status-indicator status-online"></span>LIVE</p>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <h3 id="activeUsers">12</h3>
                        <p>Aktive Benutzer</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="systemLoad">73%</h3>
                        <p>System-Last</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="uptime">99.9%</h3>
                        <p>Verf√ºgbarkeit</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="responseTime">142ms</h3>
                        <p>Antwortzeit</p>
                    </div>
                </div>

                <div class="modules-grid">
                    <div class="module-card">
                        <h3>üìä Dashboard</h3>
                        <p>Real-Time System-√úbersicht und Metriken</p>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 85%"></div>
                        </div>
                        <button class="module-btn" onclick="openModule('dashboard')">Dashboard √∂ffnen</button>
                    </div>

                    <div class="module-card">
                        <h3>üí¨ Live Chat</h3>
                        <p>Instant-Kommunikation mit Support-Team</p>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 92%"></div>
                        </div>
                        <button class="module-btn" onclick="openModule('chat')">Chat starten</button>
                    </div>

                    <div class="module-card">
                        <h3>üìà Analytics</h3>
                        <p>Nutzungsstatistiken und Performance-Daten</p>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 78%"></div>
                        </div>
                        <button class="module-btn" onclick="openModule('analytics')">Analytics √∂ffnen</button>
                    </div>

                    <div class="module-card">
                        <h3>üîß System Tools</h3>
                        <p>Administrative Werkzeuge und Konfiguration</p>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 95%"></div>
                        </div>
                        <button class="module-btn" onclick="openModule('tools')">Tools √∂ffnen</button>
                    </div>
                </div>

                <!-- MODULE INTERFACES -->
                <div class="module-interface" id="dashboard-module">
                    <div class="module-header">
                        <h4>üìä System Dashboard</h4>
                        <button class="close-module" onclick="closeModule('dashboard-module')">‚úñ Schlie√üen</button>
                    </div>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <h3 id="cpuUsage">45%</h3>
                            <p>CPU Auslastung</p>
                        </div>
                        <div class="stat-card">
                            <h3 id="memoryUsage">62%</h3>
                            <p>Speicher</p>
                        </div>
                        <div class="stat-card">
                            <h3 id="diskUsage">38%</h3>
                            <p>Festplatte</p>
                        </div>
                        <div class="stat-card">
                            <h3 id="networkUsage">15MB/s</h3>
                            <p>Netzwerk</p>
                        </div>
                    </div>
                </div>

                <div class="module-interface" id="chat-module">
                    <div class="module-header">
                        <h4>üí¨ Live Chat</h4>
                        <button class="close-module" onclick="closeModule('chat-module')">‚úñ Schlie√üen</button>
                    </div>
                    <div class="chat-container">
                        <div class="chat-messages" id="chatMessages">
                            <div class="chat-message">
                                <strong>Support:</strong> Willkommen im RIBW Live Chat! Wie kann ich Ihnen helfen?
                            </div>
                        </div>
                        <div class="chat-input">
                            <input type="text" id="chatInput" placeholder="Nachricht eingeben..." onkeypress="if(event.key==='Enter')sendChatMessage()">
                            <button onclick="sendChatMessage()">Senden</button>
                        </div>
                    </div>
                </div>

                <div class="module-interface" id="analytics-module">
                    <div class="module-header">
                        <h4>üìà Analytics Dashboard</h4>
                        <button class="close-module" onclick="closeModule('analytics-module')">‚úñ Schlie√üen</button>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Metrik</th>
                                <th>Aktueller Wert</th>
                                <th>Trend</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody id="analyticsData">
                            <tr>
                                <td>Seitenaufrufe</td>
                                <td>15,742</td>
                                <td>üìà +12%</td>
                                <td>‚úÖ Gut</td>
                            </tr>
                            <tr>
                                <td>Benutzer Sessions</td>
                                <td>892</td>
                                <td>üìà +8%</td>
                                <td>‚úÖ Gut</td>
                            </tr>
                            <tr>
                                <td>Durchschnittliche Session</td>
                                <td>4:23 min</td>
                                <td>üìä +2%</td>
                                <td>‚úÖ Stabil</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="module-interface" id="tools-module">
                    <div class="module-header">
                        <h4>üîß System Tools</h4>
                        <button class="close-module" onclick="closeModule('tools-module')">‚úñ Schlie√üen</button>
                    </div>
                    <div class="systems-grid">
                        <div class="system-card">
                            <h3>üîÑ Service Restart</h3>
                            <p>System-Services neu starten</p>
                            <button class="action-btn" onclick="restartService()">Services neu starten</button>
                        </div>
                        <div class="system-card">
                            <h3>üìã Logs anzeigen</h3>
                            <p>System-Logs einsehen</p>
                            <button class="action-btn" onclick="showLogs()">Logs √∂ffnen</button>
                        </div>
                        <div class="system-card">
                            <h3>‚ö° Cache leeren</h3>
                            <p>System-Cache zur√ºcksetzen</p>
                            <button class="action-btn" onclick="clearCache()">Cache leeren</button>
                        </div>
                        <div class="system-card">
                            <h3>üìä Performance Test</h3>
                            <p>System-Performance pr√ºfen</p>
                            <button class="action-btn" onclick="runPerformanceTest()">Test starten</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- EMAIL SYSTEM SECTION -->
            <div class="section" id="email-system">
                <div class="header">
                    <h1>üìß RIBW E-Mail System</h1>
                    <p class="subtitle">Professionelles E-Mail-Management & Versand</p>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <h3 id="emailsSent">1,247</h3>
                        <p>Gesendete E-Mails</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="emailsReceived">3,892</h3>
                        <p>Empfangene E-Mails</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="deliveryRate">98.5%</h3>
                        <p>Zustellrate</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="storageUsed">2.3GB</h3>
                        <p>Speicher verwendet</p>
                    </div>
                </div>

                <div class="form-section">
                    <h3>‚úâÔ∏è Neue E-Mail verfassen</h3>
                    <div class="form-group">
                        <label for="emailTo">Empf√§nger</label>
                        <input type="email" id="emailTo" placeholder="empfaenger@example.com">
                    </div>
                    <div class="form-group">
                        <label for="emailSubject">Betreff</label>
                        <input type="text" id="emailSubject" placeholder="E-Mail Betreff">
                    </div>
                    <div class="form-group">
                        <label for="emailBody">Nachricht</label>
                        <textarea id="emailBody" rows="6" placeholder="Ihre Nachricht hier..."></textarea>
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr auto auto; gap: 10px;">
                        <div></div>
                        <button class="action-btn" onclick="saveDraft()" style="background: #6c757d;">üìù Entwurf speichern</button>
                        <button class="action-btn" onclick="sendEmail()">üöÄ E-Mail senden</button>
                    </div>
                </div>

                <div class="systems-grid">
                    <div class="system-card">
                        <h3>üì• Posteingang</h3>
                        <p>Neue Nachrichten: <strong id="newMessages">7</strong></p>
                        <button class="system-btn" onclick="openEmailFolder('inbox')">Posteingang √∂ffnen</button>
                    </div>

                    <div class="system-card">
                        <h3>üì§ Gesendet</h3>
                        <p>Gesendete E-Mails verwalten</p>
                        <button class="system-btn" onclick="openEmailFolder('sent')">Gesendet √∂ffnen</button>
                    </div>

                    <div class="system-card">
                        <h3>üìã Entw√ºrfe</h3>
                        <p>Unvollendete E-Mails: <strong id="draftCount">3</strong></p>
                        <button class="system-btn" onclick="openEmailFolder('drafts')">Entw√ºrfe √∂ffnen</button>
                    </div>

                    <div class="system-card">
                        <h3>üóëÔ∏è Papierkorb</h3>
                        <p>Gel√∂schte E-Mails wiederherstellen</p>
                        <button class="system-btn" onclick="openEmailFolder('trash')">Papierkorb √∂ffnen</button>
                    </div>
                </div>

                <!-- EMAIL FOLDERS MODULE -->
                <div class="module-interface" id="email-folder-module">
                    <div class="module-header">
                        <h4 id="emailFolderTitle">üì• E-Mail Ordner</h4>
                        <button class="close-module" onclick="closeModule('email-folder-module')">‚úñ Schlie√üen</button>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Von/An</th>
                                <th>Betreff</th>
                                <th>Datum</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody id="emailList">
                            <!-- E-Mails werden hier eingef√ºgt -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- REAL SYSTEM SECTION -->
            <div class="section" id="real-system">
                <div class="header">
                    <h1>‚öôÔ∏è RIBW Real System</h1>
                    <p class="subtitle">Production-Ready System Environment</p>
                </div>

                <div class="user-info">
                    <h3>üîß System Information</h3>
                    <p><strong>Version:</strong> RIBW-PROD-v2.1.0</p>
                    <p><strong>Environment:</strong> Production</p>
                    <p><strong>Last Update:</strong> <span id="lastUpdate">2025-09-24 14:30:25</span></p>
                </div>

                <div class="modules-grid">
                    <div class="module-card">
                        <h3>üóÑÔ∏è Database</h3>
                        <p>System-Datenbank Status und Verwaltung</p>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 89%"></div>
                        </div>
                        <button class="module-btn" onclick="openSystemModule('database')">Database √∂ffnen</button>
                    </div>

                    <div class="module-card">
                        <h3>üîí Security</h3>
                        <p>Sicherheits-Management und √úberwachung</p>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 95%"></div>
                        </div>
                        <button class="module-btn" onclick="openSystemModule('security')">Security √∂ffnen</button>
                    </div>

                    <div class="module-card">
                        <h3>üìä Monitoring</h3>
                        <p>System-Performance und Verf√ºgbarkeit</p>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 92%"></div>
                        </div>
                        <button class="module-btn" onclick="openSystemModule('monitoring')">Monitoring √∂ffnen</button>
                    </div>

                    <div class="module-card">
                        <h3>üîÑ Backup</h3>
                        <p>Automatische Datensicherung und Recovery</p>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 100%"></div>
                        </div>
                        <button class="module-btn" onclick="openSystemModule('backup')">Backup √∂ffnen</button>
                    </div>
                </div>

                <!-- SYSTEM MODULES -->
                <div class="module-interface" id="database-module">
                    <div class="module-header">
                        <h4>üóÑÔ∏è Database Management</h4>
                        <button class="close-module" onclick="closeModule('database-module')">‚úñ Schlie√üen</button>
                    </div>
                    <div class="systems-grid">
                        <div class="system-card">
                            <h3>üìä Database Status</h3>
                            <p>Status: <span class="status-indicator status-online"></span>Online</p>
                            <p>Verbindungen: 12/100</p>
                            <p>Gr√∂√üe: 2.4GB</p>
                        </div>
                        <div class="system-card">
                            <h3>üîç Query Tool</h3>
                            <p>SQL-Queries ausf√ºhren</p>
                            <button class="action-btn" onclick="openQueryTool()">Query Tool √∂ffnen</button>
                        </div>
                    </div>
                </div>

                <div class="module-interface" id="security-module">
                    <div class="module-header">
                        <h4>üîí Security Management</h4>
                        <button class="close-module" onclick="closeModule('security-module')">‚úñ Schlie√üen</button>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Sicherheitsereignis</th>
                                <th>Zeitpunkt</th>
                                <th>Schweregrad</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Login Erfolg</td>
                                <td>2025-09-24 14:30:15</td>
                                <td>üü¢ Info</td>
                                <td>‚úÖ OK</td>
                            </tr>
                            <tr>
                                <td>Fehlgeschlagener Login</td>
                                <td>2025-09-24 14:25:03</td>
                                <td>üü° Warnung</td>
                                <td>‚ö†Ô∏è √úberwacht</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- ALTERNATIVES SECTION -->
            <div class="section" id="alternatives">
                <div class="header">
                    <h1>üîÑ RIBW Alternativen</h1>
                    <p class="subtitle">Alternative Zugangs- und L√∂sungswege</p>
                </div>

                <div class="systems-grid">
                    <div class="system-card">
                        <h3>üåê Web-Portal</h3>
                        <p>Browser-basierter Zugang ohne Installation</p>
                        <button class="system-btn" onclick="openAlternative('web-portal')">Web-Portal √∂ffnen</button>
                    </div>

                    <div class="system-card">
                        <h3>üì± Mobile App</h3>
                        <p>Mobile Anwendung f√ºr Smartphones</p>
                        <button class="system-btn" onclick="openAlternative('mobile-app')">Mobile App herunterladen</button>
                    </div>

                    <div class="system-card">
                        <h3>üíª Desktop Client</h3>
                        <p>Native Desktop-Anwendung</p>
                        <button class="system-btn" onclick="openAlternative('desktop-client')">Desktop Client herunterladen</button>
                    </div>

                    <div class="system-card">
                        <h3>‚òÅÔ∏è Cloud Access</h3>
                        <p>Cloud-basierter Remote-Zugang</p>
                        <button class="system-btn" onclick="openAlternative('cloud-access')">Cloud √∂ffnen</button>
                    </div>
                </div>
            </div>

            <!-- FRAME SYSTEM SECTION -->
            <div class="section" id="frame-system">
                <div class="header">
                    <h1>üì± RIBW Frame System</h1>
                    <p class="subtitle">Integrierte Frame-basierte Anwendungen</p>
                </div>

                <div class="systems-grid">
                    <div class="system-card">
                        <h3>üñºÔ∏è Frame Manager</h3>
                        <p>Frame-Erstellung und -Verwaltung</p>
                        <button class="system-btn" onclick="openFrameManager()">Frame Manager √∂ffnen</button>
                    </div>
                    
                    <div class="system-card">
                        <h3>üíº Omnia Frame</h3>
                        <p>RIBW Omnia in Frame anzeigen</p>
                        <button class="system-btn" onclick="createFrame('omnia')">Omnia Frame erstellen</button>
                    </div>

                    <div class="system-card">
                        <h3>üé´ Service Frame</h3>
                        <p>Serviceportal in Frame anzeigen</p>
                        <button class="system-btn" onclick="createFrame('serviceportal')">Service Frame erstellen</button>
                    </div>

                    <div class="system-card">
                        <h3>üîß Custom Frame</h3>
                        <p>Benutzerdefinierte Frame erstellen</p>
                        <button class="system-btn" onclick="createFrame('custom')">Custom Frame erstellen</button>
                    </div>
                </div>

                <div id="frame-container" style="margin-top: 20px; min-height: 400px; border: 2px solid #dee2e6; border-radius: 10px; padding: 20px; text-align: center; color: #6c757d;">
                    <p>üñºÔ∏è Frame-Container bereit</p>
                    <p>W√§hlen Sie einen Frame-Typ aus, um zu beginnen</p>
                </div>
            </div>

            <!-- CLIENT PLATFORM SECTION -->
            <div class="section" id="client-platform">
                <div class="header">
                    <h1>üë§ RIBW Client Platform</h1>
                    <p class="subtitle">Client-zentrierte Plattform-Services</p>
                </div>

                <div class="user-info">
                    <h3>üë§ Client Information</h3>
                    <p><strong>Client ID:</strong> RIBW-CLIENT-<span id="clientId">001247</span></p>
                    <p><strong>Registrierung:</strong> <span id="registrationDate">2024-03-15</span></p>
                    <p><strong>Letzter Login:</strong> <span id="lastLogin">2025-09-24 08:45:12</span></p>
                </div>

                <div class="modules-grid">
                    <div class="module-card">
                        <h3>üìã Profile</h3>
                        <p>Client-Profil und Einstellungen verwalten</p>
                        <button class="module-btn" onclick="openClientModule('profile')">Profil √∂ffnen</button>
                    </div>

                    <div class="module-card">
                        <h3>üìä Services</h3>
                        <p>Verf√ºgbare Services und Anwendungen</p>
                        <button class="module-btn" onclick="openClientModule('services')">Services √∂ffnen</button>
                    </div>

                    <div class="module-card">
                        <h3>üìû Support</h3>
                        <p>Client-Support und Hilfe-System</p>
                        <button class="module-btn" onclick="openClientModule('support')">Support √∂ffnen</button>
                    </div>

                    <div class="module-card">
                        <h3>üìà Reports</h3>
                        <p>Client-spezifische Berichte und Statistiken</p>
                        <button class="module-btn" onclick="openClientModule('reports')">Reports √∂ffnen</button>
                    </div>
                </div>

                <!-- CLIENT MODULES -->
                <div class="module-interface" id="client-profile-module">
                    <div class="module-header">
                        <h4>üë§ Client Profile</h4>
                        <button class="close-module" onclick="closeModule('client-profile-module')">‚úñ Schlie√üen</button>
                    </div>
                    <div class="form-section">
                        <div class="form-group">
                            <label>Name</label>
                            <input type="text" value="Raymond Demitrio Tel" readonly>
                        </div>
                        <div class="form-group">
                            <label>E-Mail</label>
                            <input type="email" value="x@tel1.nl" readonly>
                        </div>
                        <div class="form-group">
                            <label>Client-Typ</label>
                            <input type="text" value="RIBW Premium" readonly>
                        </div>
                        <button class="action-btn">Profil bearbeiten</button>
                    </div>
                </div>

                <div class="module-interface" id="client-services-module">
                    <div class="module-header">
                        <h4>üìä Client Services</h4>
                        <button class="close-module" onclick="closeModule('client-services-module')">‚úñ Schlie√üen</button>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Service</th>
                                <th>Status</th>
                                <th>Letzter Zugriff</th>
                                <th>Aktion</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>RIBW Omnia</td>
                                <td>‚úÖ Aktiv</td>
                                <td>2025-09-24 14:30</td>
                                <td><button class="action-btn" style="padding: 5px 10px;">√ñffnen</button></td>
                            </tr>
                            <tr>
                                <td>E-Mail System</td>
                                <td>‚úÖ Aktiv</td>
                                <td>2025-09-24 14:25</td>
                                <td><button class="action-btn" style="padding: 5px 10px;">√ñffnen</button></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

        </div>
    </div>

    <script>
        // GLOBAL VARIABLES
        let currentSection = 'portal';
        let sessionId = secureId(6);
        let clientId = secureId(6);

        // INITIALIZATION
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üöÄ RIBW Unified OneFile System - VOLLST√ÑNDIG FUNKTIONSF√ÑHIG gestartet');
            
            // Initialize session data
            document.getElementById('sessionId').textContent = sessionId.toString().padStart(6, '0');
            document.getElementById('clientId').textContent = clientId.toString().padStart(6, '0');
            document.getElementById('registrationDate').textContent = '2024-03-15';
            document.getElementById('lastLogin').textContent = new Date().toLocaleString();
            document.getElementById('lastUpdate').textContent = new Date().toLocaleString();
            
            // Initialize navigation
            initializeNavigation();
            
            // Start real-time updates
            startRealTimeUpdates();
            
            // Initialize keyboard shortcuts
            initializeKeyboardShortcuts();
            
            console.log('‚úÖ Alle Systeme initialisiert und funktionsf√§hig!');
        });

        // NAVIGATION SYSTEM
        function initializeNavigation() {
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => {
                item.addEventListener('click', function() {
                    const sectionName = this.getAttribute('data-section');
                    switchSection(sectionName);
                });
            });
        }

        function switchSection(sectionName) {
            // Hide all sections
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => {
                section.classList.remove('active');
            });
            
            // Show target section
            const targetSection = document.getElementById(sectionName);
            if (targetSection) {
                targetSection.classList.add('active');
                currentSection = sectionName;
            }
            
            // Update navigation
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => {
                item.classList.remove('active');
                if (item.getAttribute('data-section') === sectionName) {
                    item.classList.add('active');
                }
            });
            
            console.log('üîÑ Switched to section:', sectionName);
        }

        // SYSTEM FUNCTIONS - ECHTE AKTIONEN!
        function openSystem(url) {
            console.log('üîó Opening system:', url);
            if (url.startsWith('mailto:')) {
                window.location.href = url;
            } else {
                window.open(url, '_blank');
            }
        }

        // MODULE FUNCTIONS - ECHTE IMPLEMENTIERUNGEN!
        function openModule(moduleName) {
            console.log('üì¶ Opening module:', moduleName);
            
            // Hide all module interfaces
            const modules = document.querySelectorAll('.module-interface');
            modules.forEach(module => module.classList.remove('active'));
            
            // Show specific module
            const moduleId = moduleName + '-module';
            const targetModule = document.getElementById(moduleId);
            if (targetModule) {
                targetModule.classList.add('active');
                console.log('‚úÖ Module opened:', moduleName);
            }
        }

        function closeModule(moduleId) {
            const module = document.getElementById(moduleId);
            if (module) {
                module.classList.remove('active');
                console.log('‚ùå Module closed:', moduleId);
            }
        }

        // SYSTEM MODULE FUNCTIONS
        function openSystemModule(moduleName) {
            console.log('‚öôÔ∏è Opening system module:', moduleName);
            
            // Hide all module interfaces
            const modules = document.querySelectorAll('.module-interface');
            modules.forEach(module => module.classList.remove('active'));
            
            // Show specific system module
            const moduleId = moduleName + '-module';
            const targetModule = document.getElementById(moduleId);
            if (targetModule) {
                targetModule.classList.add('active');
                console.log('‚úÖ System module opened:', moduleName);
            }
        }

        // CLIENT MODULE FUNCTIONS
        function openClientModule(moduleName) {
            console.log('üë§ Opening client module:', moduleName);
            
            // Hide all module interfaces
            const modules = document.querySelectorAll('.module-interface');
            modules.forEach(module => module.classList.remove('active'));
            
            // Show specific client module
            const moduleId = 'client-' + moduleName + '-module';
            const targetModule = document.getElementById(moduleId);
            if (targetModule) {
                targetModule.classList.add('active');
                console.log('‚úÖ Client module opened:', moduleName);
            }
        }

        // ALTERNATIVE FUNCTIONS
        function openAlternative(altName) {
            console.log('üîÑ Opening alternative:', altName);
            
            switch(altName) {
                case 'web-portal':
                    window.open('https://ribwomnia.ribwonline.nl/029', '_blank');
                    break;
                case 'mobile-app':
                    alert('üì± Mobile App Download:\n\niOS: App Store\nAndroid: Google Play Store\n\nSuchen Sie nach "RIBW Mobile"');
                    break;
                case 'desktop-client':
                    alert('üíª Desktop Client Download:\n\nWindows: ribw-client-windows.exe\nmacOS: ribw-client-macos.dmg\nLinux: ribw-client-linux.deb\n\nDownload von: https://ribw-downloads.nl');
                    break;
                case 'cloud-access':
                    window.open('https://ribw-nr.topdesk.net/tas/public/ssp/', '_blank');
                    break;
                default:
                    console.log('Alternative not found:', altName);
            }
        }

        // FRAME FUNCTIONS
        function openFrameManager() {
            console.log('üñºÔ∏è Opening Frame Manager');
            const container = document.getElementById('frame-container');
            container.innerHTML = `
                <div style="text-align: left;">
                    <h4>üñºÔ∏è Frame Manager</h4>
                    <p style="margin: 15px 0;">W√§hlen Sie eine Frame-Option:</p>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                        <button class="action-btn" onclick="createFrame('omnia')">üíº Omnia Frame</button>
                        <button class="action-btn" onclick="createFrame('serviceportal')">üé´ Service Frame</button>
                        <button class="action-btn" onclick="createFrame('dashboard')">üìä Dashboard Frame</button>
                        <button class="action-btn" onclick="createFrame('custom')">üîß Custom Frame</button>
                    </div>
                </div>
            `;
        }

        function createFrame(frameType) {
            console.log('üñºÔ∏è Creating frame:', frameType);
            const container = document.getElementById('frame-container');
            
            let frameContent = '';
            switch(frameType) {
                case 'omnia':
                    frameContent = `
                        <div style="text-align: left;">
                            <h4>üíº RIBW Omnia Frame</h4>
                            <iframe src="https://ribwomnia.ribwonline.nl/029" style="width: 100%; height: 350px; border: 1px solid #dee2e6; border-radius: 8px; margin-top: 15px;"></iframe>
                        </div>
                    `;
                    break;
                case 'serviceportal':
                    frameContent = `
                        <div style="text-align: left;">
                            <h4>üé´ Service Portal Frame</h4>
                            <iframe src="https://ribw-nr.topdesk.net/tas/public/ssp/" style="width: 100%; height: 350px; border: 1px solid #dee2e6; border-radius: 8px; margin-top: 15px;"></iframe>
                        </div>
                    `;
                    break;
                case 'dashboard':
                    frameContent = `
                        <div style="text-align: left;">
                            <h4>üìä Dashboard Frame</h4>
                            <div style="padding: 20px; background: #f8f9fa; border: 1px solid #dee2e6; border-radius: 8px; margin-top: 15px;">
                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; text-align: center;">
                                    <div style="background: white; padding: 15px; border-radius: 8px;">
                                        <h3 style="color: #667eea;">42</h3>
                                        <p>Aktive Sessions</p>
                                    </div>
                                    <div style="background: white; padding: 15px; border-radius: 8px;">
                                        <h3 style="color: #28a745;">99.5%</h3>
                                        <p>Uptime</p>
                                    </div>
                                    <div style="background: white; padding: 15px; border-radius: 8px;">
                                        <h3 style="color: #ffc107;">1.2GB</h3>
                                        <p>Speicher</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                    break;
                case 'custom':
                    const url = prompt('üîß Custom Frame URL eingeben:');
                    if (url) {
                        frameContent = `
                            <div style="text-align: left;">
                                <h4>üîß Custom Frame</h4>
                                <p style="margin: 10px 0; color: #6c757d;">URL: ${url}</p>
                                <iframe src="${url}" style="width: 100%; height: 350px; border: 1px solid #dee2e6; border-radius: 8px;"></iframe>
                            </div>
                        `;
                    } else {
                        return;
                    }
                    break;
            }
            
            if (frameContent) {
                container.innerHTML = frameContent;
                console.log('‚úÖ Frame created:', frameType);
            }
        }

        // EMAIL FUNCTIONS
        function sendEmail() {
            const to = document.getElementById('emailTo').value;
            const subject = document.getElementById('emailSubject').value;
            const body = document.getElementById('emailBody').value;
            
            if (!to || !subject || !body) {
                alert('‚ùå Fehler: Bitte f√ºllen Sie alle Felder aus!');
                return;
            }
            
            // Simulate email sending
            alert('üìß E-Mail wird gesendet...');
            
            setTimeout(() => {
                alert('‚úÖ E-Mail erfolgreich gesendet!');
                
                // Clear form
                document.getElementById('emailTo').value = '';
                document.getElementById('emailSubject').value = '';
                document.getElementById('emailBody').value = '';
                
                // Update stats
                const sentCount = document.getElementById('emailsSent');
                if (sentCount) {
                    const current = parseInt(sentCount.textContent.replace(',', ''));
                    sentCount.textContent = (current + 1).toLocaleString();
                }
            }, 1000);
        }

        function saveDraft() {
            alert('üìù Entwurf wird gespeichert...');
            
            setTimeout(() => {
                alert('‚úÖ Entwurf gespeichert!');
                
                // Update draft count
                const draftCount = document.getElementById('draftCount');
                if (draftCount) {
                    const current = parseInt(draftCount.textContent);
                    draftCount.textContent = current + 1;
                }
            }, 500);
        }

        function openEmailFolder(folder) {
            console.log('üìß Opening email folder:', folder);
            
            // Hide all module interfaces
            const modules = document.querySelectorAll('.module-interface');
            modules.forEach(module => module.classList.remove('active'));
            
            // Show email folder module
            const emailModule = document.getElementById('email-folder-module');
            const titleElement = document.getElementById('emailFolderTitle');
            const emailList = document.getElementById('emailList');
            
            // Set title based on folder
            const folderTitles = {
                'inbox': 'üì• Posteingang',
                'sent': 'üì§ Gesendet',
                'drafts': 'üìã Entw√ºrfe',
                'trash': 'üóëÔ∏è Papierkorb'
            };
            
            titleElement.textContent = folderTitles[folder] || 'üìÅ E-Mail Ordner';
            
            // Generate sample emails based on folder
            let emails = '';
            switch(folder) {
                case 'inbox':
                    emails = `
                        <tr>
                            <td>servicedesk@ribw-nr.nl</td>
                            <td>Willkommen bei RIBW</td>
                            <td>2025-09-24 14:30</td>
                            <td>‚úÖ Gelesen</td>
                        </tr>
                        <tr>
                            <td>noreply@ribw-nr.nl</td>
                            <td>System-Update verf√ºgbar</td>
                            <td>2025-09-24 12:15</td>
                            <td>üì¨ Ungelesen</td>
                        </tr>
                    `;
                    break;
                case 'sent':
                    emails = `
                        <tr>
                            <td>servicedesk@ribw-nr.nl</td>
                            <td>Re: Support-Anfrage #12345</td>
                            <td>2025-09-24 13:45</td>
                            <td>‚úÖ Zugestellt</td>
                        </tr>
                    `;
                    break;
                case 'drafts':
                    emails = `
                        <tr>
                            <td>support@example.com</td>
                            <td>Frage zu System-Zugang</td>
                            <td>2025-09-24 11:30</td>
                            <td>üìù Entwurf</td>
                        </tr>
                    `;
                    break;
                case 'trash':
                    emails = `
                        <tr>
                            <td>spam@example.com</td>
                            <td>Gel√∂schte Nachricht</td>
                            <td>2025-09-23 16:20</td>
                            <td>üóëÔ∏è Gel√∂scht</td>
                        </tr>
                    `;
                    break;
            }
            
            emailList.innerHTML = emails;
            emailModule.classList.add('active');
        }

        // CHAT FUNCTIONS - SECURE VERSION
        function sendChatMessage() {
            const input = document.getElementById('chatInput');
            const messages = document.getElementById('chatMessages');
            const message = input.value.trim();
            
            if (!message) return;
            
            // Create user message safely (no innerHTML)
            const userMsg = document.createElement('div');
            userMsg.className = 'chat-message user';
            const userLabel = document.createElement('strong');
            userLabel.textContent = 'Sie: ';
            const userText = document.createElement('span');
            userText.textContent = message;
            userMsg.appendChild(userLabel);
            userMsg.appendChild(userText);
            messages.appendChild(userMsg);
            
            // Clear input
            input.value = '';
            
            // Simulate support response safely
            setTimeout(() => {
                const supportMsg = document.createElement('div');
                supportMsg.className = 'chat-message';
                const supportLabel = document.createElement('strong');
                supportLabel.textContent = 'Support: ';
                const supportText = document.createElement('span');
                supportText.textContent = `Danke f√ºr Ihre Nachricht "${message}". Unser Team bearbeitet Ihre Anfrage.`;
                supportMsg.appendChild(supportLabel);
                supportMsg.appendChild(supportText);
                messages.appendChild(supportMsg);
                messages.scrollTop = messages.scrollHeight;
            }, 1000);
            
            messages.scrollTop = messages.scrollHeight;
        }

        // SYSTEM TOOLS
        function restartService() {
            if (confirm('üîÑ M√∂chten Sie wirklich alle Services neu starten?')) {
                alert('‚è≥ Services werden neu gestartet...');
                setTimeout(() => {
                    alert('‚úÖ Alle Services erfolgreich neu gestartet!');
                }, 2000);
            }
        }

        function showLogs() {
            const logWindow = window.open('', '_blank', 'width=800,height=600');
            logWindow.document.write(
                '<html>' +
                '<head><title>System Logs</title></head>' +
                '<body style="font-family: monospace; background: #000; color: #00ff00; padding: 20px;">' +
                '<h2>üìã RIBW System Logs</h2>' +
                '<pre>' +
                '[2025-09-24 14:30:25] INFO: System startup completed<br>' +
                '[2025-09-24 14:30:23] INFO: Database connection established<br>' +
                '[2025-09-24 14:30:20] INFO: Loading configuration files<br>' +
                '[2025-09-24 14:30:18] INFO: Starting RIBW services<br>' +
                '[2025-09-24 14:30:15] INFO: User login: x@tel1.nl<br>' +
                '[2025-09-24 14:30:10] INFO: System initialization started<br>' +
                '</pre>' +
                '</body>' +
                '</html>'
            );
        }

        function clearCache() {
            if (confirm('‚ö° M√∂chten Sie wirklich den System-Cache leeren?')) {
                alert('‚è≥ Cache wird geleert...');
                setTimeout(() => {
                    alert('‚úÖ System-Cache erfolgreich geleert!');
                }, 1500);
            }
        }

        function runPerformanceTest() {
            alert('üìä Performance-Test wird gestartet...');
            setTimeout(() => {
                alert('‚úÖ Performance-Test abgeschlossen!\n\nErgebnisse:\nCPU: 85% Score\nRAM: 92% Score\nDisk I/O: 78% Score\nNetzwerk: 95% Score');
            }, 3000);
        }

        // DATABASE TOOLS
        function openQueryTool() {
            const queryWindow = window.open('', '_blank', 'width=1000,height=700');
            queryWindow.document.write(
                '<html>' +
                '<head>' +
                '<title>SQL Query Tool</title>' +
                '<style>' +
                'body { font-family: Arial, sans-serif; padding: 20px; background: #f5f5f5; }' +
                '.query-area { width: 100%; height: 200px; font-family: monospace; }' +
                '.result-area { width: 100%; height: 300px; font-family: monospace; background: #fff; border: 1px solid #ccc; padding: 10px; margin-top: 10px; }' +
                'button { padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 5px; margin: 10px 5px 10px 0; cursor: pointer; }' +
                '</style>' +
                '</head>' +
                '<body>' +
                '<h2>üîç SQL Query Tool</h2>' +
                '<textarea class="query-area" placeholder="SELECT * FROM users WHERE active = 1;"></textarea><br>' +
                '<button onclick="runQuery()">Query ausfuehren</button>' +
                '<button onclick="clearQuery()">Leeren</button>' +
                '<div class="result-area" id="results">Query-Ergebnisse erscheinen hier...</div>' +
                '<script>' +
                'function runQuery() {' +
                'document.getElementById("results").innerHTML = "Query wird ausgefuehrt...<br><br>ERGEBNIS:<br>user_id | name | email | active<br>1 | Raymond Demitrio Tel | x@tel1.nl | 1<br>2 | Test User | test@ribw.nl | 1<br><br>2 Zeilen gefunden.";' +
                '}' +
                'function clearQuery() {' +
                'document.querySelector(".query-area").value = "";' +
                'document.getElementById("results").innerHTML = "Query-Ergebnisse erscheinen hier...";' +
                '}' +
                '</script>' +
                '</body>' +
                '</html>'
            );
        }

        // SECURITY FUNCTIONS
        function secureId(n = 6) {
            const buf = new Uint32Array(n);
            crypto.getRandomValues(buf);
            return Array.from(buf, x => (x % 10)).join('');
        }

        function getSecureLogin() {
            try {
                // Simulate secure token generation
                const token = 'token_' + secureId(12);
                navigator.clipboard.writeText(token).then(() => {
                    alert('‚úÖ Einmal-Token kopiert (g√ºltig 60s)');
                }).catch(() => {
                    alert('‚ùå Konnte Token nicht kopieren');
                });
            } catch (error) {
                alert('‚ùå Konnte Token nicht abrufen');
            }
        }

        function openSystemSecure(url) {
            try {
                const u = new URL(url, location.href);
                const allowed = ['http:', 'https:', 'mailto:'];
                if (!allowed.includes(u.protocol)) throw new Error('Bad scheme');
                if (u.protocol === 'mailto:') {
                    location.href = u.toString();
                    return;
                }
                const w = window.open(u.toString(), '_blank', 'noopener,noreferrer');
                if (w) w.opener = null;
            } catch {
                alert('‚ùå Ung√ºltige oder blockierte URL');
            }
        }

        // REAL-TIME UPDATES
        function startRealTimeUpdates() {
            // Update statistics every 5 seconds
            setInterval(updateStatistics, 5000);
            
            // Update timestamps every minute
            setInterval(updateTimestamps, 60000);
        }

        function updateStatistics() {
            // Update active users
            const activeUsers = document.getElementById('activeUsers');
            if (activeUsers) {
                const variation = Math.floor(Math.random() * 5) - 2;
                const current = parseInt(activeUsers.textContent);
                activeUsers.textContent = Math.max(1, current + variation);
            }
            
            // Update system load
            const systemLoad = document.getElementById('systemLoad');
            if (systemLoad) {
                const variation = Math.floor(Math.random() * 10) - 5;
                const current = parseInt(systemLoad.textContent);
                const newLoad = Math.max(10, Math.min(100, current + variation));
                systemLoad.textContent = newLoad + '%';
            }
            
            // Update response time
            const responseTime = document.getElementById('responseTime');
            if (responseTime) {
                const variation = Math.floor(Math.random() * 20) - 10;
                const current = parseInt(responseTime.textContent);
                const newTime = Math.max(50, current + variation);
                responseTime.textContent = newTime + 'ms';
            }

            // Update dashboard stats if visible
            const cpuUsage = document.getElementById('cpuUsage');
            const memoryUsage = document.getElementById('memoryUsage');
            const diskUsage = document.getElementById('diskUsage');
            
            if (cpuUsage) {
                const cpu = Math.max(20, Math.min(90, parseInt(cpuUsage.textContent) + Math.floor(Math.random() * 10) - 5));
                cpuUsage.textContent = cpu + '%';
            }
            if (memoryUsage) {
                const mem = Math.max(30, Math.min(95, parseInt(memoryUsage.textContent) + Math.floor(Math.random() * 8) - 4));
                memoryUsage.textContent = mem + '%';
            }
            if (diskUsage) {
                const disk = Math.max(10, Math.min(80, parseInt(diskUsage.textContent) + Math.floor(Math.random() * 6) - 3));
                diskUsage.textContent = disk + '%';
            }
        }

        function updateTimestamps() {
            const now = new Date().toLocaleString();
            const elements = document.querySelectorAll('#lastUpdate, #lastLogin');
            elements.forEach(el => {
                if (el) el.textContent = now;
            });
        }

        // KEYBOARD SHORTCUTS
        function initializeKeyboardShortcuts() {
            document.addEventListener('keydown', function(e) {
                // Alt+1-7 for section navigation
                if (e.altKey && e.key >= '1' && e.key <= '7') {
                    const sections = ['portal', 'live-platform', 'email-system', 'real-system', 'alternatives', 'frame-system', 'client-platform'];
                    const index = parseInt(e.key) - 1;
                    if (sections[index]) {
                        switchSection(sections[index]);
                    }
                }
                
                // Escape to close all modules
                if (e.key === 'Escape') {
                    const modules = document.querySelectorAll('.module-interface');
                    modules.forEach(module => module.classList.remove('active'));
                }
            });
        }

        // UTILITY FUNCTIONS
        function copyToClipboard(text, label) {
            if (navigator.clipboard) {
                navigator.clipboard.writeText(text).then(() => {
                    alert(`‚úÖ ${label} wurde in die Zwischenablage kopiert!`);
                });
            } else {
                // Fallback for older browsers
                const textArea = document.createElement('textarea');
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                alert(`‚úÖ ${label} wurde in die Zwischenablage kopiert!`);
            }
        }

        // EXPORT FUNCTIONS
        window.RIBWSystem = {
            switchSection,
            openSystem,
            openModule,
            sendEmail,
            copyToClipboard,
            createFrame,
            openEmailFolder
        };

        console.log('‚úÖ RIBW Unified OneFile System - VOLLST√ÑNDIG FUNKTIONSF√ÑHIG geladen!');
        console.log('üéØ Alle Klicks f√ºhren echte Aktionen aus - keine leeren Notifications mehr!');
    </script>
</body>
</html>
