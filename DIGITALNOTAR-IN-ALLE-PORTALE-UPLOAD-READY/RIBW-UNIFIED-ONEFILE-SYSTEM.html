<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RIBW Unified OneFile System - Raymond Demitrio Tel</title>
    <style>
        /* UNIVERSAL RESET & BASE STYLES */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* NAVIGATION BAR */
        .navigation-bar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(15px);
            z-index: 10000;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .nav-brand {
            color: #00ff88;
            font-size: 1.5em;
            font-weight: 700;
        }

        .nav-menu {
            display: flex;
            gap: 10px;
        }

        .nav-item {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9em;
            transition: all 0.3s ease;
            border: 1px solid transparent;
        }

        .nav-item:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: #00ff88;
        }

        .nav-item.active {
            background: #00ff88;
            color: #000;
        }

        /* MAIN CONTAINER */
        .main-container {
            margin-top: 80px;
            padding: 20px;
            min-height: calc(100vh - 80px);
        }

        .container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            padding: 40px;
            max-width: 1400px;
            margin: 0 auto;
            backdrop-filter: blur(10px);
            min-height: 80vh;
        }

        /* SECTION STYLES */
        .section {
            display: none;
        }

        .section.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* HEADER STYLES */
        .header {
            text-align: center;
            margin-bottom: 40px;
        }

        .header h1 {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-size: 3em;
            margin-bottom: 10px;
            font-weight: 300;
        }

        .header .subtitle {
            color: #7f8c8d;
            font-size: 1.1em;
        }

        /* USER INFO */
        .user-info {
            background: #e3f2fd;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            border-left: 4px solid #2196f3;
        }

        .user-info h3, .user-info h4 {
            color: #1976d2;
            margin-bottom: 10px;
        }

        .user-info p {
            color: #424242;
            margin: 5px 0;
        }

        /* STATUS INDICATORS */
        .status-indicator {
            display: inline-block;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-right: 8px;
        }

        .status-online { background: #28a745; box-shadow: 0 0 10px #28a745; }
        .status-offline { background: #dc3545; box-shadow: 0 0 10px #dc3545; }
        .status-connecting { background: #ffc107; box-shadow: 0 0 10px #ffc107; }

        /* GRID LAYOUTS */
        .systems-grid, .modules-grid, .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .stats-grid {
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        }

        /* CARD STYLES */
        .system-card, .module-card, .stat-card, .template-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            border-left: 4px solid #667eea;
        }

        .system-card:hover, .module-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }

        .system-card h3, .module-card h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .stat-card {
            text-align: center;
            border-left: none;
        }

        .stat-card h3 {
            color: #2c3e50;
            font-size: 2em;
            margin-bottom: 10px;
        }

        /* BUTTONS */
        .system-btn, .module-btn, .action-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            text-decoration: none;
            display: inline-block;
            font-weight: 600;
            transition: all 0.3s ease;
            width: 100%;
            text-align: center;
            cursor: pointer;
            margin: 5px 0;
        }

        .system-btn:hover, .module-btn:hover, .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        /* FORMS */
        .form-section {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            border: 2px solid #e9ecef;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            margin-bottom: 20px;
        }

        .form-group label {
            color: #495057;
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 0.9em;
        }

        .form-group input, .form-group textarea, .form-group select {
            padding: 15px;
            border: 2px solid #dee2e6;
            border-radius: 10px;
            font-size: 1em;
            transition: all 0.3s ease;
            background: white;
        }

        .form-group input:focus, .form-group textarea:focus, .form-group select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        /* EMAIL COMPOSER */
        .email-composer {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            margin: 20px 0;
        }

        .email-composer h3 {
            color: #2c3e50;
            margin-bottom: 20px;
        }

        .email-header {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }

        .email-subject, .email-body {
            grid-column: 1 / -1;
        }

        .email-body textarea {
            min-height: 200px;
            resize: vertical;
        }

        /* FILE UPLOAD */
        .file-upload {
            border: 2px dashed #dee2e6;
            border-radius: 10px;
            padding: 30px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            margin: 20px 0;
        }

        .file-upload:hover {
            border-color: #667eea;
            background: rgba(102, 126, 234, 0.05);
        }

        .file-upload.drag-over {
            border-color: #28a745;
            background: rgba(40, 167, 69, 0.1);
        }

        /* NOTIFICATION STYLES */
        .notification {
            position: fixed;
            top: 100px;
            right: 20px;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 20px;
            border-radius: 10px;
            z-index: 10001;
            max-width: 400px;
            transform: translateX(500px);
            transition: all 0.3s ease;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            border-left: 4px solid #28a745;
        }

        .notification.error {
            border-left: 4px solid #dc3545;
        }

        .notification.warning {
            border-left: 4px solid #ffc107;
        }

        .notification.info {
            border-left: 4px solid #17a2b8;
        }

        /* DASHBOARD WIDGETS */
        .dashboard-widget {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            margin-bottom: 20px;
        }

        .dashboard-widget h4 {
            color: #2c3e50;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #f8f9fa;
        }

        /* PROGRESS BARS */
        .progress-bar {
            width: 100%;
            height: 20px;
            background: #e9ecef;
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            border-radius: 10px;
            transition: width 0.3s ease;
        }

        /* LIVE INDICATORS */
        .live-indicator {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: rgba(40, 167, 69, 0.1);
            color: #155724;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
        }

        .live-dot {
            width: 8px;
            height: 8px;
            background: #28a745;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        /* RESPONSIVE DESIGN */
        @media (max-width: 768px) {
            .navigation-bar {
                flex-direction: column;
                gap: 10px;
                padding: 10px;
            }

            .nav-menu {
                flex-wrap: wrap;
                justify-content: center;
            }

            .main-container {
                margin-top: 120px;
                padding: 10px;
            }

            .container {
                padding: 20px;
            }

            .header h1 {
                font-size: 2em;
            }

            .systems-grid, .modules-grid, .stats-grid {
                grid-template-columns: 1fr;
            }

            .email-header {
                grid-template-columns: 1fr;
            }
        }

        /* DARK MODE SUPPORT */
        @media (prefers-color-scheme: dark) {
            .container {
                background: rgba(30, 30, 30, 0.95);
                color: #e0e0e0;
            }

            .system-card, .module-card, .stat-card {
                background: #2d2d2d;
                color: #e0e0e0;
            }

            .form-section {
                background: #2d2d2d;
                border-color: #404040;
            }

            .form-group input, .form-group textarea, .form-group select {
                background: #1a1a1a;
                border-color: #404040;
                color: #e0e0e0;
            }
        }

        /* ACCESSIBILITY */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        /* FOCUS STYLES */
        *:focus {
            outline: 2px solid #667eea;
            outline-offset: 2px;
        }

        /* PRINT STYLES */
        @media print {
            .navigation-bar {
                display: none;
            }

            .main-container {
                margin-top: 0;
            }

            .container {
                box-shadow: none;
                background: white;
            }
        }
    </style>
</head>
<body>
    <!-- NAVIGATION BAR -->
    <div class="navigation-bar">
        <div class="nav-brand">🏥 RIBW Unified System</div>
        <div class="nav-menu">
            <button class="nav-item active" data-section="portal">🏠 Portal</button>
            <button class="nav-item" data-section="live-platform">🔴 Live</button>
            <button class="nav-item" data-section="email-system">📧 E-Mail</button>
            <button class="nav-item" data-section="real-system">⚙️ System</button>
            <button class="nav-item" data-section="alternatives">🔄 Alternativen</button>
            <button class="nav-item" data-section="frame-system">📱 Frame</button>
            <button class="nav-item" data-section="client-platform">👤 Client</button>
        </div>
    </div>

    <!-- MAIN CONTAINER -->
    <div class="main-container">
        <div class="container">
            
            <!-- PORTAL SECTION -->
            <div class="section active" id="portal">
                <div class="header">
                    <h1>🏥 RIBW Portal</h1>
                    <p class="subtitle">Raymond Demitrio Tel - Tenant Zugang</p>
                </div>

                <div class="user-info">
                    <h4>👤 Ihre Anmeldedaten</h4>
                    <p><strong>E-Mail:</strong> x@tel1.nl</p>
                    <p><strong>Passwort:</strong> Werner8/Werner8/</p>
                    <p><strong>Status:</strong> <span class="status-indicator status-offline"></span>Azure AD Problem - Registrierung erforderlich</p>
                </div>

                <div style="background: #fff3cd; border: 1px solid #ffeaa7; border-radius: 10px; padding: 20px; margin-bottom: 20px;">
                    <h4 style="color: #856404; margin-bottom: 10px;">⚠️ WICHTIGER HINWEIS</h4>
                    <p style="color: #856404; margin-bottom: 10px;"><strong>Azure AD Fehler:</strong> Ihr Konto ist noch nicht als externer Benutzer registriert.</p>
                    <p style="color: #856404; margin-bottom: 15px;"><strong>Fehler-Code:</strong> AADSTS50020</p>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px;">
                        <a href="tel:0883822410" class="action-btn" style="background: #dc3545;">
                            📞 Servicedesk anrufen
                        </a>
                        <a href="mailto:servicedesk@ribw-nr.nl" class="action-btn" style="background: #007bff;">
                            📧 E-Mail senden
                        </a>
                    </div>
                </div>

                <div class="form-section">
                    <h3>🔐 Schnell-Anmeldung</h3>
                    <div class="form-group">
                        <label for="email">E-Mail Adresse</label>
                        <input type="email" id="email" value="x@tel1.nl" readonly>
                    </div>
                    <div class="form-group">
                        <label for="password">Passwort</label>
                        <input type="password" id="password" value="Werner8/Werner8/" readonly>
                    </div>
                    <button type="button" class="action-btn" onclick="performLogin()">
                        🚀 Anmelden & Weiterleiten
                    </button>
                </div>

                <div class="systems-grid">
                    <div class="system-card">
                        <h3>💼 RIBW Omnia</h3>
                        <p>Digitale Arbeitsumgebung mit Office-Tools (Word, Teams)</p>
                        <button class="system-btn" onclick="openSystem('https://ribwomnia.ribwonline.nl/029')">
                            <span class="status-indicator status-online"></span>
                            Omnia öffnen
                        </button>
                    </div>

                    <div class="system-card">
                        <h3>🎫 Serviceportal</h3>
                        <p>Support-Anfragen, Tickets und Hilfe-System</p>
                        <button class="system-btn" onclick="openSystem('https://ribw-nr.topdesk.net/tas/public/ssp/')">
                            <span class="status-indicator status-online"></span>
                            Serviceportal öffnen
                        </button>
                    </div>

                    <div class="system-card">
                        <h3>📞 Servicedesk</h3>
                        <p>Direkter Support: 088 382 24 10</p>
                        <button class="system-btn" onclick="openSystem('mailto:servicedesk@ribw-nr.nl')">
                            <span class="status-indicator status-online"></span>
                            E-Mail senden
                        </button>
                    </div>

                    <div class="system-card">
                        <h3>📋 Organisation</h3>
                        <p>Überblick über RIBW Nijmegen & Rivierenland</p>
                        <button class="system-btn" onclick="openSystem('https://www.ribw-nijmegenrivierenland.nl/over-ribw/organisatie')">
                            <span class="status-indicator status-online"></span>
                            Website öffnen
                        </button>
                    </div>
                </div>
            </div>

            <!-- LIVE PLATFORM SECTION -->
            <div class="section" id="live-platform">
                <div class="header">
                    <h1>🔴 RIBW Live Platform</h1>
                    <p class="subtitle">Real-Time System Monitoring & Management</p>
                </div>

                <div class="user-info">
                    <h3>👤 Live Session</h3>
                    <p><strong>Benutzer:</strong> x@tel1.nl</p>
                    <p><strong>Session ID:</strong> LIVE-<span id="sessionId">000000</span></p>
                    <p><strong>Status:</strong> <span class="live-indicator"><span class="live-dot"></span>LIVE</span></p>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <h3 id="activeUsers">12</h3>
                        <p>Aktive Benutzer</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="systemLoad">73%</h3>
                        <p>System-Last</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="uptime">99.9%</h3>
                        <p>Verfügbarkeit</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="responseTime">142ms</h3>
                        <p>Antwortzeit</p>
                    </div>
                </div>

                <div class="modules-grid">
                    <div class="module-card">
                        <h3>📊 Dashboard</h3>
                        <p>Real-Time System-Übersicht und Metriken</p>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 85%"></div>
                        </div>
                        <button class="module-btn" onclick="openModule('dashboard')">Dashboard öffnen</button>
                    </div>

                    <div class="module-card">
                        <h3>💬 Live Chat</h3>
                        <p>Instant-Kommunikation mit Support-Team</p>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 92%"></div>
                        </div>
                        <button class="module-btn" onclick="openModule('chat')">Chat starten</button>
                    </div>

                    <div class="module-card">
                        <h3>📈 Analytics</h3>
                        <p>Nutzungsstatistiken und Performance-Daten</p>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 78%"></div>
                        </div>
                        <button class="module-btn" onclick="openModule('analytics')">Analytics öffnen</button>
                    </div>

                    <div class="module-card">
                        <h3>🔧 System Tools</h3>
                        <p>Administrative Werkzeuge und Konfiguration</p>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 95%"></div>
                        </div>
                        <button class="module-btn" onclick="openModule('tools')">Tools öffnen</button>
                    </div>
                </div>
            </div>

            <!-- EMAIL SYSTEM SECTION -->
            <div class="section" id="email-system">
                <div class="header">
                    <h1>📧 RIBW E-Mail System</h1>
                    <p class="subtitle">Professionelles E-Mail-Management & Versand</p>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <h3 id="emailsSent">1,247</h3>
                        <p>Gesendete E-Mails</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="emailsReceived">3,892</h3>
                        <p>Empfangene E-Mails</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="deliveryRate">98.5%</h3>
                        <p>Zustellrate</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="storageUsed">2.3GB</h3>
                        <p>Speicher verwendet</p>
                    </div>
                </div>

                <div class="email-composer">
                    <h3>✉️ Neue E-Mail verfassen</h3>
                    <div class="email-header">
                        <div class="form-group">
                            <label for="emailTo">Empfänger</label>
                            <input type="email" id="emailTo" placeholder="empfaenger@example.com">
                        </div>
                        <div class="form-group">
                            <label for="emailCc">CC (optional)</label>
                            <input type="email" id="emailCc" placeholder="cc@example.com">
                        </div>
                        <div class="form-group email-subject">
                            <label for="emailSubject">Betreff</label>
                            <input type="text" id="emailSubject" placeholder="E-Mail Betreff">
                        </div>
                        <div class="form-group email-body">
                            <label for="emailBody">Nachricht</label>
                            <textarea id="emailBody" placeholder="Ihre Nachricht hier..."></textarea>
                        </div>
                    </div>
                    
                    <div class="file-upload" onclick="triggerFileUpload()">
                        <p>📎 Dateien anhängen</p>
                        <p style="font-size: 0.9em; color: #6c757d;">Klicken oder Dateien hierher ziehen</p>
                        <input type="file" id="emailAttachments" multiple style="display: none;">
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr auto auto; gap: 10px; margin-top: 20px;">
                        <div></div>
                        <button class="action-btn" onclick="saveDraft()" style="background: #6c757d;">📝 Entwurf speichern</button>
                        <button class="action-btn" onclick="sendEmail()">🚀 E-Mail senden</button>
                    </div>
                </div>

                <div class="systems-grid">
                    <div class="system-card">
                        <h3>📥 Posteingang</h3>
                        <p>Neue Nachrichten: <strong id="newMessages">7</strong></p>
                        <button class="system-btn" onclick="openEmailFolder('inbox')">Posteingang öffnen</button>
                    </div>

                    <div class="system-card">
                        <h3>📤 Gesendet</h3>
                        <p>Gesendete E-Mails verwalten</p>
                        <button class="system-btn" onclick="openEmailFolder('sent')">Gesendet öffnen</button>
                    </div>

                    <div class="system-card">
                        <h3>📋 Entwürfe</h3>
                        <p>Unvollendete E-Mails: <strong id="draftCount">3</strong></p>
                        <button class="system-btn" onclick="openEmailFolder('drafts')">Entwürfe öffnen</button>
                    </div>

                    <div class="system-card">
                        <h3>🗑️ Papierkorb</h3>
                        <p>Gelöschte E-Mails wiederherstellen</p>
                        <button class="system-btn" onclick="openEmailFolder('trash')">Papierkorb öffnen</button>
                    </div>
                </div>
            </div>

            <!-- REAL SYSTEM SECTION -->
            <div class="section" id="real-system">
                <div class="header">
                    <h1>⚙️ RIBW Real System</h1>
                    <p class="subtitle">Production-Ready System Environment</p>
                </div>

                <div class="user-info">
                    <h3>🔧 System Information</h3>
                    <p><strong>Version:</strong> RIBW-PROD-v2.1.0</p>
                    <p><strong>Environment:</strong> Production</p>
                    <p><strong>Last Update:</strong> <span id="lastUpdate">2025-09-24 14:30:25</span></p>
                </div>

                <div class="modules-grid">
                    <div class="module-card">
                        <h3>🗄️ Database</h3>
                        <p>System-Datenbank Status und Verwaltung</p>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 89%"></div>
                        </div>
                        <button class="module-btn" onclick="openSystemModule('database')">Database öffnen</button>
                    </div>

                    <div class="module-card">
                        <h3>🔒 Security</h3>
                        <p>Sicherheits-Management und Überwachung</p>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 95%"></div>
                        </div>
                        <button class="module-btn" onclick="openSystemModule('security')">Security öffnen</button>
                    </div>

                    <div class="module-card">
                        <h3>📊 Monitoring</h3>
                        <p>System-Performance und Verfügbarkeit</p>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 92%"></div>
                        </div>
                        <button class="module-btn" onclick="openSystemModule('monitoring')">Monitoring öffnen</button>
                    </div>

                    <div class="module-card">
                        <h3>🔄 Backup</h3>
                        <p>Automatische Datensicherung und Recovery</p>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 100%"></div>
                        </div>
                        <button class="module-btn" onclick="openSystemModule('backup')">Backup öffnen</button>
                    </div>
                </div>
            </div>

            <!-- ALTERNATIVES SECTION -->
            <div class="section" id="alternatives">
                <div class="header">
                    <h1>🔄 RIBW Alternativen</h1>
                    <p class="subtitle">Alternative Zugangs- und Lösungswege</p>
                </div>

                <div class="systems-grid">
                    <div class="system-card">
                        <h3>🌐 Web-Portal</h3>
                        <p>Browser-basierter Zugang ohne Installation</p>
                        <button class="system-btn" onclick="openAlternative('web-portal')">Web-Portal öffnen</button>
                    </div>

                    <div class="system-card">
                        <h3>📱 Mobile App</h3>
                        <p>Mobile Anwendung für Smartphones</p>
                        <button class="system-btn" onclick="openAlternative('mobile-app')">Mobile App laden</button>
                    </div>

                    <div class="system-card">
                        <h3>💻 Desktop Client</h3>
                        <p>Native Desktop-Anwendung</p>
                        <button class="system-btn" onclick="openAlternative('desktop-client')">Desktop Client laden</button>
                    </div>

                    <div class="system-card">
                        <h3>☁️ Cloud Access</h3>
                        <p>Cloud-basierter Remote-Zugang</p>
                        <button class="system-btn" onclick="openAlternative('cloud-access')">Cloud öffnen</button>
                    </div>
                </div>
            </div>

            <!-- FRAME SYSTEM SECTION -->
            <div class="section" id="frame-system">
                <div class="header">
                    <h1>📱 RIBW Frame System</h1>
                    <p class="subtitle">Integrierte Frame-basierte Anwendungen</p>
                </div>

                <div class="dashboard-widget">
                    <h4>🖼️ Frame Manager</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                        <button class="action-btn" onclick="createFrame('omnia')">Omnia Frame</button>
                        <button class="action-btn" onclick="createFrame('serviceportal')">Service Frame</button>
                        <button class="action-btn" onclick="createFrame('dashboard')">Dashboard Frame</button>
                        <button class="action-btn" onclick="createFrame('custom')">Custom Frame</button>
                    </div>
                </div>

                <div id="frame-container" style="margin-top: 20px; min-height: 400px; border: 2px solid #dee2e6; border-radius: 10px; padding: 20px; text-align: center; color: #6c757d;">
                    <p>Wählen Sie einen Frame aus, um zu beginnen</p>
                </div>
            </div>

            <!-- CLIENT PLATFORM SECTION -->
            <div class="section" id="client-platform">
                <div class="header">
                    <h1>👤 RIBW Client Platform</h1>
                    <p class="subtitle">Client-zentrierte Plattform-Services</p>
                </div>

                <div class="user-info">
                    <h3>👤 Client Information</h3>
                    <p><strong>Client ID:</strong> RIBW-CLIENT-<span id="clientId">001247</span></p>
                    <p><strong>Registrierung:</strong> <span id="registrationDate">2024-03-15</span></p>
                    <p><strong>Letzter Login:</strong> <span id="lastLogin">2025-09-24 08:45:12</span></p>
                </div>

                <div class="modules-grid">
                    <div class="module-card">
                        <h3>📋 Profile</h3>
                        <p>Client-Profil und Einstellungen verwalten</p>
                        <button class="module-btn" onclick="openClientModule('profile')">Profil öffnen</button>
                    </div>

                    <div class="module-card">
                        <h3>📊 Services</h3>
                        <p>Verfügbare Services und Anwendungen</p>
                        <button class="module-btn" onclick="openClientModule('services')">Services öffnen</button>
                    </div>

                    <div class="module-card">
                        <h3>📞 Support</h3>
                        <p>Client-Support und Hilfe-System</p>
                        <button class="module-btn" onclick="openClientModule('support')">Support öffnen</button>
                    </div>

                    <div class="module-card">
                        <h3>📈 Reports</h3>
                        <p>Client-spezifische Berichte und Statistiken</p>
                        <button class="module-btn" onclick="openClientModule('reports')">Reports öffnen</button>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <!-- NOTIFICATION CONTAINER -->
    <div class="notification" id="notification">
        <div id="notificationContent"></div>
    </div>

    <script>
        // GLOBAL VARIABLES
        let currentSection = 'portal';
        let sessionId = Math.floor(Math.random() * 1000000);
        let clientId = Math.floor(Math.random() * 999999) + 1;

        // INITIALIZATION
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🚀 RIBW Unified OneFile System gestartet');
            
            // Initialize session
            document.getElementById('sessionId').textContent = sessionId.toString().padStart(6, '0');
            document.getElementById('clientId').textContent = clientId.toString().padStart(6, '0');
            document.getElementById('registrationDate').textContent = '2024-03-15';
            document.getElementById('lastLogin').textContent = new Date().toLocaleString();
            document.getElementById('lastUpdate').textContent = new Date().toLocaleString();
            
            // Auto-fill credentials
            autoFillCredentials();
            
            // Start real-time updates
            startRealTimeUpdates();
            
            // Initialize navigation
            initializeNavigation();
            
            // Initialize drag and drop
            initializeDragAndDrop();
            
            // Initialize keyboard shortcuts
            initializeKeyboardShortcuts();
            
            showNotification('System gestartet', 'RIBW Unified OneFile System erfolgreich initialisiert', 'success');
        });

        // NAVIGATION SYSTEM
        function initializeNavigation() {
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => {
                item.addEventListener('click', function() {
                    const sectionName = this.getAttribute('data-section');
                    switchSection(sectionName);
                });
            });
        }

        function switchSection(sectionName) {
            // Hide all sections
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => {
                section.classList.remove('active');
            });
            
            // Show target section
            const targetSection = document.getElementById(sectionName);
            if (targetSection) {
                targetSection.classList.add('active');
                currentSection = sectionName;
            }
            
            // Update navigation
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => {
                item.classList.remove('active');
                if (item.getAttribute('data-section') === sectionName) {
                    item.classList.add('active');
                }
            });
            
            console.log('🔄 Switched to section:', sectionName);
        }

        // LOGIN FUNCTIONS
        function performLogin() {
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            
            console.log('🔐 Login attempt:', { email, password: '***' });
            
            const warning = `⚠️ AZURE AD PROBLEM ERKANNT!

Ihr Konto ${email} ist noch nicht als externer Benutzer im RIBW Azure AD Tenant registriert.

FEHLER-DETAILS:
• Tenant ID: ac825c65-81cd-45bb-89d6-cfbed4e85655
• Application: Omnia Workspace Login - Productie
• Status: AADSTS50020 - User account does not exist

LÖSUNG:
1. RIBW Servicedesk kontaktieren: 088 382 24 10
2. E-Mail an: servicedesk@ribw-nr.nl
3. Externe Benutzer-Registrierung beantragen

Möchten Sie trotzdem versuchen?`;
            
            if (confirm(warning)) {
                showNotification('Login', 'Weiterleitung zu RIBW Omnia...', 'info');
                setTimeout(() => {
                    window.open('https://ribwomnia.ribwonline.nl/029', '_blank');
                }, 1000);
            }
        }

        function autoFillCredentials() {
            document.getElementById('email').value = 'x@tel1.nl';
            document.getElementById('password').value = 'Werner8/Werner8/';
        }

        // SYSTEM FUNCTIONS - ECHTE AKTIONEN!
        function openSystem(url) {
            console.log('🔗 Opening system:', url);
            if (url.startsWith('mailto:')) {
                window.location.href = url;
            } else {
                window.open(url, '_blank');
            }
            showNotification('System', `Öffne ${url}...`, 'success');
        }

        function openModule(moduleName) {
            console.log('📦 Opening module:', moduleName);
            
            // ECHTE MODUL-IMPLEMENTIERUNGEN
            switch(moduleName) {
                case 'dashboard':
                    createDashboardModule();
                    break;
                case 'chat':
                    createChatModule();
                    break;
                case 'analytics':
                    createAnalyticsModule();
                    break;
                case 'tools':
                    createToolsModule();
                    break;
                default:
                    showNotification('Modul', `${moduleName} wird geöffnet...`, 'info');
            }
        }

        function openSystemModule(moduleName) {
            console.log('⚙️ Opening system module:', moduleName);
            
            // ECHTE SYSTEM-MODUL-IMPLEMENTIERUNGEN
            switch(moduleName) {
                case 'database':
                    createDatabaseModule();
                    break;
                case 'security':
                    createSecurityModule();
                    break;
                case 'monitoring':
                    createMonitoringModule();
                    break;
                case 'backup':
                    createBackupModule();
                    break;
                default:
                    showNotification('System-Modul', `${moduleName} wird initialisiert...`, 'info');
            }
        }

        function openAlternative(altName) {
            console.log('🔄 Opening alternative:', altName);
            
            // ECHTE ALTERNATIVE-IMPLEMENTIERUNGEN
            switch(altName) {
                case 'web-portal':
                    window.open('https://ribwomnia.ribwonline.nl/029', '_blank');
                    break;
                case 'mobile-app':
                    showMobileAppDownload();
                    break;
                case 'desktop-client':
                    showDesktopClientDownload();
                    break;
                case 'cloud-access':
                    window.open('https://ribw-nr.topdesk.net/tas/public/ssp/', '_blank');
                    break;
                default:
                    showNotification('Alternative', `${altName} wird geladen...`, 'info');
            }
        }

        function openClientModule(moduleName) {
            console.log('👤 Opening client module:', moduleName);
            
            // ECHTE CLIENT-MODUL-IMPLEMENTIERUNGEN
            switch(moduleName) {
                case 'profile':
                    createClientProfileModule();
                    break;
                case 'services':
                    createClientServicesModule();
                    break;
                case 'support':
                    createClientSupportModule();
                    break;
                case 'reports':
                    createClientReportsModule();
                    break;
                default:
                    showNotification('Client-Modul', `${moduleName} wird geöffnet...`, 'info');
            }
        }

        // EMAIL FUNCTIONS
        function triggerFileUpload() {
            document.getElementById('emailAttachments').click();
        }

        function sendEmail() {
            const to = document.getElementById('emailTo').value;
            const cc = document.getElementById('emailCc').value;
            const subject = document.getElementById('emailSubject').value;
            const body = document.getElementById('emailBody').value;
            
            if (!to || !subject || !body) {
                showNotification('Fehler', 'Bitte füllen Sie alle Pflichtfelder aus!', 'error');
                return;
            }
            
            showNotification('E-Mail', 'E-Mail wird gesendet...', 'info');
            
            // Simulate email sending
            setTimeout(() => {
                showNotification('E-Mail', 'E-Mail erfolgreich gesendet!', 'success');
                
                // Clear form
                document.getElementById('emailTo').value = '';
                document.getElementById('emailCc').value = '';
                document.getElementById('emailSubject').value = '';
                document.getElementById('emailBody').value = '';
                
                // Update stats
                const sentCount = document.getElementById('emailsSent');
                if (sentCount) {
                    const current = parseInt(sentCount.textContent.replace(',', ''));
                    sentCount.textContent = (current + 1).toLocaleString();
                }
            }, 2000);
        }

        function saveDraft() {
            showNotification('Entwurf', 'Entwurf wird gespeichert...', 'info');
            
            setTimeout(() => {
                showNotification('Entwurf', 'Entwurf gespeichert!', 'success');
                
                // Update draft count
                const draftCount = document.getElementById('draftCount');
                if (draftCount) {
                    const current = parseInt(draftCount.textContent);
                    draftCount.textContent = current + 1;
                }
            }, 1000);
        }

        function openEmailFolder(folder) {
            showNotification('E-Mail', `${folder} wird geöffnet...`, 'info');
            console.log('📧 Opening email folder:', folder);
        }

        // FRAME FUNCTIONS
        function createFrame(frameType) {
            const container = document.getElementById('frame-container');
            
            showNotification('Frame', `${frameType} Frame wird erstellt...`, 'info');
            
            let frameContent = '';
            switch(frameType) {
                case 'omnia':
                    frameContent = '<iframe src="https://ribwomnia.ribwonline.nl/029" style="width: 100%; height: 400px; border: none; border-radius: 8px;"></iframe>';
                    break;
                case 'serviceportal':
                    frameContent = '<iframe src="https://ribw-nr.topdesk.net/tas/public/ssp/" style="width: 100%; height: 400px; border: none; border-radius: 8px;"></iframe>';
                    break;
                case 'dashboard':
                    frameContent = '<div style="padding: 20px; text-align: center; background: #f8f9fa; border-radius: 8px; height: 400px;"><h3>📊 Dashboard Frame</h3><p>Dashboard-Inhalte werden hier angezeigt</p></div>';
                    break;
                case 'custom':
                    const url = prompt('Geben Sie die URL für den Custom Frame ein:');
                    if (url) {
                        frameContent = `<iframe src="${url}" style="width: 100%; height: 400px; border: none; border-radius: 8px;"></iframe>`;
                    }
                    break;
            }
            
            if (frameContent) {
                container.innerHTML = frameContent;
                showNotification('Frame', `${frameType} Frame erstellt!`, 'success');
            }
        }

        // REAL-TIME UPDATES
        function startRealTimeUpdates() {
            // Update statistics every 5 seconds
            setInterval(updateStatistics, 5000);
            
            // Update timestamps every minute
            setInterval(updateTimestamps, 60000);
        }

        function updateStatistics() {
            // Update active users
            const activeUsers = document.getElementById('activeUsers');
            if (activeUsers) {
                const variation = Math.floor(Math.random() * 5) - 2;
                const current = parseInt(activeUsers.textContent);
                activeUsers.textContent = Math.max(1, current + variation);
            }
            
            // Update system load
            const systemLoad = document.getElementById('systemLoad');
            if (systemLoad) {
                const variation = Math.floor(Math.random() * 10) - 5;
                const current = parseInt(systemLoad.textContent);
                const newLoad = Math.max(10, Math.min(100, current + variation));
                systemLoad.textContent = newLoad + '%';
            }
            
            // Update response time
            const responseTime = document.getElementById('responseTime');
            if (responseTime) {
                const variation = Math.floor(Math.random() * 20) - 10;
                const current = parseInt(responseTime.textContent);
                const newTime = Math.max(50, current + variation);
                responseTime.textContent = newTime + 'ms';
            }
        }

        function updateTimestamps() {
            const now = new Date().toLocaleString();
            const elements = document.querySelectorAll('#lastUpdate, #lastLogin');
            elements.forEach(el => {
                if (el) el.textContent = now;
            });
        }

        // NOTIFICATION SYSTEM
        function showNotification(title, message, type = 'info') {
            const notification = document.getElementById('notification');
            const content = document.getElementById('notificationContent');
            
            // Clear existing classes
            notification.className = 'notification';
            notification.classList.add(type);
            
            content.innerHTML = `
                <h4>${title}</h4>
                <p>${message}</p>
            `;
            
            // Show notification
            notification.classList.add('show');
            
            // Auto-hide after 3 seconds
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
            
            console.log(`📢 Notification: [${type}] ${title}: ${message}`);
        }

        // DRAG AND DROP
        function initializeDragAndDrop() {
            const fileUpload = document.querySelector('.file-upload');
            if (fileUpload) {
                fileUpload.addEventListener('dragover', function(e) {
                    e.preventDefault();
                    this.classList.add('drag-over');
                });
                
                fileUpload.addEventListener('dragleave', function(e) {
                    e.preventDefault();
                    this.classList.remove('drag-over');
                });
                
                fileUpload.addEventListener('drop', function(e) {
                    e.preventDefault();
                    this.classList.remove('drag-over');
                    
                    const files = e.dataTransfer.files;
                    if (files.length > 0) {
                        showNotification('Dateien', `${files.length} Datei(en) hochgeladen!`, 'success');
                    }
                });
            }
        }

        // KEYBOARD SHORTCUTS
        function initializeKeyboardShortcuts() {
            document.addEventListener('keydown', function(e) {
                // Ctrl+Enter for login
                if (e.ctrlKey && e.key === 'Enter' && currentSection === 'portal') {
                    performLogin();
                }
                
                // Alt+1-7 for section navigation
                if (e.altKey && e.key >= '1' && e.key <= '7') {
                    const sections = ['portal', 'live-platform', 'email-system', 'real-system', 'alternatives', 'frame-system', 'client-platform'];
                    const index = parseInt(e.key) - 1;
                    if (sections[index]) {
                        switchSection(sections[index]);
                    }
                }
                
                // Escape to close notifications
                if (e.key === 'Escape') {
                    const notification = document.getElementById('notification');
                    notification.classList.remove('show');
                }
            });
        }

        // UTILITY FUNCTIONS
        function copyToClipboard(text, label) {
            if (navigator.clipboard) {
                navigator.clipboard.writeText(text).then(() => {
                    showNotification('Kopiert', `${label} wurde in die Zwischenablage kopiert!`, 'success');
                });
            } else {
                // Fallback for older browsers
                const textArea = document.createElement('textarea');
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                showNotification('Kopiert', `${label} wurde in die Zwischenablage kopiert!`, 'success');
            }
        }

        function generateId(prefix = 'id') {
            return prefix + '_' + Math.random().toString(36).substr(2, 9);
        }

        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }

        // EXPORT FUNCTIONS
        window.RIBWSystem = {
            switchSection,
            performLogin,
            openSystem,
            openModule,
            sendEmail,
            showNotification,
            copyToClipboard
        };

        console.log('✅ RIBW Unified OneFile System vollständig geladen!');
    </script>
</body>
</html>
